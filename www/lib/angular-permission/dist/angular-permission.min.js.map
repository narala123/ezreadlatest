{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","catch","reason","reject","PermTransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","validationLocals","transitionProperties","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeOnlyAndExceptProperty","redirectTo","normalizeRedirectToProperty","resolveRedirectState","redirectFunction","rejectedPermissionName","redirectState","state","property","call","isInjectable","normalizeFunctionRedirectionRule","isObjectSingleRedirectionRule","normalizeObjectSingleRedirectionRule","normalizeObjectMultipleRedirectionRule","normalizeStringRedirectionRule","ReferenceError","redirectionMap","default","redirection","privilegeName","role","warn","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":";;;;;;;;;;CASC,SAAUA,EAAQC,QAASC,GAC1B,YA4BA,SAASC,GAAGC,GACV,UAeA,SAASC,GAAIC,GACX,GAAIC,GAAWH,EAAUI,QACvBC,EAAU,EACVC,EAAUT,QAAQU,QAAQL,QAqB5B,OAnBAL,SAAQW,QAAQN,EAAU,SAAUO,EAASC,GAC3CL,IACAL,EACGW,KAAKF,GACLG,KAAK,SAAUC,GACdV,EAASW,QAAQD,KAElBE,MAAM,SAAUC,GACfV,EAAQI,GAAOM,IACPX,GACNF,EAASc,OAAOD,OAKR,IAAZX,GACFF,EAASc,OAAOX,GAGXH,EAASM,QAGlB,MAxCAT,GAAUC,IAAMA,EAwCTD,EAyET,QAASkB,KACP,UAEAC,MAAKC,8BAAgC,WACnC,KAAM,IAAIC,OAAM,+FAGlBF,KAAKG,iCAAmC,WACtC,KAAM,IAAID,OAAM,kGAGlBF,KAAKI,+BAAiC,WACpC,KAAM,IAAIF,OAAM,gGAmBpB,QAASG,GAAezB,EAAI0B,EAAWC,GACrC,UASA,SAASC,GAAWC,EAAgBC,GAClCC,EAAoBF,EAAgBC,GAEpCV,KAAKS,eAAiBA,EACtBT,KAAKU,mBAAqBE,EAA2BF,GAiCvD,QAASG,GAAcC,EAAQL,GAC7B,MAAIK,GACKlC,EAAGe,QAAQc,GAGb7B,EAAGkB,OAAOW,GAanB,QAASE,GAAoBF,EAAgBC,GAC3C,IAAKhC,QAAQqC,SAASN,GACpB,KAAM,IAAIO,WAAU,iDAEtB,KAAKtC,QAAQuC,WAAWP,KAAwBhC,QAAQU,QAAQsB,GAC9D,KAAM,IAAIM,WAAU,uGAcxB,QAASJ,GAA2BF,GAOlC,MANKhC,SAAQU,QAAQsB,EAAmBQ,SAAWR,KAGjDA,GAAsB,iBAAkB,uBAAwBA,IAG3DA,EAGT,MAvEAF,GAAWW,UAAUC,mBAAqB,WACxC,GAAIC,IACFZ,eAAgBT,KAAKS,eACrBa,qBAAsBf,GAEpBgB,EAAmBjB,EAAUkB,OAAOxB,KAAKU,mBAAoB,KAAMW,EAMvE,OAJK3C,SAAQuC,WAAWM,EAAiB9B,QACvC8B,EAAmBV,EAAcU,EAAkBvB,KAAKS,iBAGnDc,GA4DFf,EAkBT,QAASiB,GAAS7C,EAAI0B,EAAWoB,EAAqBnB,GACpD,UAUA,SAASoB,GAAKC,EAAUlB,GACtBC,EAAoBiB,EAAUlB,GAE9BV,KAAK4B,SAAWA,EAChB5B,KAAKU,mBAAqBE,EAA2BF,GAiCvD,QAASG,GAAcC,EAAQc,GAC7B,MAAId,GACKlC,EAAGe,QAAQiC,GAGbhD,EAAGkB,OAAO8B,GAcnB,QAASjB,GAAoBiB,EAAUlB,GACrC,IAAKhC,QAAQqC,SAASa,GACpB,KAAM,IAAIZ,WAAU,2CAGtB,KAAKtC,QAAQU,QAAQsB,KAAwBhC,QAAQuC,WAAWP,GAC9D,KAAM,IAAIM,WAAU,4DAexB,QAASJ,GAA2BF,GAUlC,MARIhC,SAAQU,QAAQsB,KAAwBhC,QAAQuC,WAAWP,EAAmBA,EAAmBmB,OAAS,IAC5GnB,EAAqBoB,EAA4BpB,GACvChC,QAAQU,QAAQsB,EAAmBQ,SAAWR,KAGxDA,GAAsB,WAAY,uBAAwBA,IAGrDA,EAYT,QAASoB,GAA4BC,GACnC,MAAO,YACL,GAAIhD,GAAWgD,EAAYC,IAAI,SAAUvB,GACvC,GAAIiB,EAAoBO,wBAAwBxB,GAAiB,CAC/D,GAAIyB,GAAaR,EAAoBS,wBAAwB1B,EAE7D,OAAOyB,GAAWd,qBAGpB,MAAOxC,GAAGkB,OAAOW,IAGnB,OAAO7B,GAAGwD,IAAIrD,IAIlB,MAtGA4C,GAAKR,UAAUkB,aAAe,WAC5B,GAAIhB,IACFO,SAAU5B,KAAK4B,SACfN,qBAAsBf,GAEpBgB,EAAmBjB,EAAUkB,OAAOxB,KAAKU,mBAAoB,KAAMW,EAMvE,OAJK3C,SAAQuC,WAAWM,EAAiB9B,QACvC8B,EAAmBV,EAAcU,EAAkBvB,KAAK4B,WAGnDL,GA2FFI,EAaT,QAASD,GAAoBrB,GAC3B,UAwBA,SAASiC,GAAiB7B,EAAgBC,GACxC6B,EAAgB9B,GAAkB,GAAIJ,GAAeI,EAAgBC,GAWvE,QAAS8B,GAAsBC,EAAiB/B,GAC9C,IAAKhC,QAAQU,QAAQqD,GACnB,KAAM,IAAIzB,WAAU,iDAGtBtC,SAAQW,QAAQoD,EAAiB,SAAUhC,GACzC6B,EAAiB7B,EAAgBC,KAUrC,QAASgC,GAA2BjC,SAC3B8B,GAAgB9B,GAUzB,QAASwB,GAAwBxB,GAC/B,MAAO/B,SAAQiE,UAAUJ,EAAgB9B,IAS3C,QAAS0B,GAAwB1B,GAC/B,MAAO8B,GAAgB9B,GASzB,QAASmC,KACP,MAAOL,GAOT,QAASM,KACPN,KArFF,GAAIA,KAEJvC,MAAKsC,iBAAmBA,EACxBtC,KAAKwC,sBAAwBA,EAC7BxC,KAAK0C,2BAA6BA,EAClC1C,KAAKiC,wBAA0BA,EAC/BjC,KAAKmC,wBAA0BA,EAC/BnC,KAAK4C,SAAWA,EAChB5C,KAAK6C,WAAaA,EA4FpB,QAASC,GAAcrB,GACrB,UAoBA,SAASsB,GAAWnB,EAAUlB,GAC5BsC,EAAUpB,GAAY,GAAIH,GAASG,EAAUlB,GAU/C,QAASuC,GAAgBC,GACvB,IAAKxE,QAAQyE,SAASD,GACpB,KAAM,IAAIlC,WAAU,4CAGtBtC,SAAQW,QAAQ6D,EAAS,SAAUxC,EAAoBkB,GACrDmB,EAAWnB,EAAUlB,KAUzB,QAAS0C,GAAqBxB,SACrBoB,GAAUpB,GAUnB,QAASyB,GAAkBzB,GACzB,MAAOlD,SAAQiE,UAAUK,EAAUpB,IASrC,QAAS0B,GAAkB1B,GACzB,MAAOoB,GAAUpB,GASnB,QAASgB,KACP,MAAOI,GAOT,QAASH,KACPG,KArFF,GAAIA,KAEJhD,MAAK+C,WAAaA,EAClB/C,KAAKiD,gBAAkBA,EACvBjD,KAAKsD,kBAAoBA,EACzBtD,KAAKqD,kBAAoBA,EACzBrD,KAAKoD,qBAAuBA,EAC5BpD,KAAK4C,SAAWA,EAChB5C,KAAK6C,WAAaA,EAwIpB,QAASU,GAAoBC,EAAMlD,EAAWmD,EAAmBC,GAC/D,UAEA,QACEC,SAAU,IACVC,kBACEC,KAAM,mBACNC,KAAM,mBACNC,OAAQ,qBACRC,aAAc,2BACdC,eAAgB,8BAElBC,aAAc,aACdC,YAAa,SAAU,WAAY,SAAUC,EAAQC,GA6CnD,QAASC,KACP,MAAOhE,GAAUiE,IAAI,WAAarC,EAAW2B,KAO/C,QAASW,KACH9F,QAAQuC,WAAWiB,EAAW8B,cAChC9B,EAAW8B,eAAeK,GAE1BX,EAAyBe,YAAYJ,GAQzC,QAASK,KACHhG,QAAQuC,WAAWiB,EAAW+B,gBAChC/B,EAAW+B,iBAAiBI,GAE5BX,EAAyBiB,YAAYN,GApEzC,GAAInC,GAAalC,IAEjBoE,GAAOQ,aAAa,kBAAmB,oBAAqB,QAC1D,WACE,IACE,GAAIN,IAAsB,CACxB,GAAIO,GAAyBvE,EAAUwE,IAAI,yBAE3CD,GACGE,qBAAqB7C,EAAW2B,MAChCpE,KAAK,WACJ+E,MAED5E,MAAM,WACL8E,UAEC,CACL,GAAIM,GAAoB1E,EAAUwE,IAAI,qBAClCG,EAAgB,GAAIxB,IACtBK,KAAM5B,EAAW4B,KACjBC,OAAQ7B,EAAW6B,QAGrBiB,GACGE,yBAAyBD,GACzBxF,KAAK,WACJ+E,MAED5E,MAAM,WACL8E,OAGN,MAAOS,GACPT,IACAlB,EAAK4B,MAAMD,EAAEE,eAoDzB,QAASL,GAAkBpG,GACzB,UAYA,SAASsG,GAAyBlD,GAChC,GAAIhD,GAAWJ,EAAGK,OAIlB,OAFAqG,GAA0BtG,EAAUgD,GAE7BhD,EAASM,QAYlB,QAASgG,GAA0BtG,EAAUgD,GAC3C,GAAIuD,GAAiBvD,EAAIwD,wBAAwBxD,EAAI+B,OAErDnF,GAAGE,IAAIyG,GACJ9F,KAAK,SAAUgG,GACdzG,EAASc,OAAO2F,KAEjB7F,MAAM,WACL8F,EAAyB1G,EAAUgD,KAYzC,QAAS0D,GAAyB1G,EAAUgD,GAC1C,IAAKA,EAAI8B,KAAKjC,OAEZ,WADA7C,GAASW,SAIX,IAAIgG,GAAe3D,EAAIwD,wBAAwBxD,EAAI8B,KACnDlF,GAAGE,IAAI6G,GACJlG,KAAK,SAAUmG,GACd5G,EAASW,QAAQiG,KAElBhG,MAAM,SAAUiG,GACf7G,EAASc,OAAO+F,KA3DtB7F,KAAKkF,yBAA2BA,EAkFlC,QAASzB,GAAkB7E,EAAI4E,EAAMlD,EAAWC,EAA0BuC,EAAepB,GACvF,UAcA,SAASoE,GAAcb,GAErBA,EAAgBA,MAEhBjF,KAAK8D,KAAOiC,EAA+Bd,EAAcnB,MACzD9D,KAAK+D,OAASgC,EAA+Bd,EAAclB,QAC3D/D,KAAKgG,WAAaC,EAA4BhB,EAAce,YA4D9D,QAASE,GAAqBC,EAAkBC,GAC9C,MAAOxH,GACJY,KAAKc,EAAUkB,OAAO2E,EAAkB,MACvCN,mBAAoBO,EACpB9E,qBAAsBf,KAEvBd,KAAK,SAAU4G,GACd,MAAI3H,SAAQqC,SAASsF,IAEjBC,MAAOD,GAIP3H,QAAQyE,SAASkD,GACZA,EAGFzH,EAAGkB,WAahB,QAASiG,GAA+BQ,GACtC,MAAI7H,SAAQqC,SAASwF,IACXA,GAGN7H,QAAQU,QAAQmH,GACXA,EAGL7H,QAAQuC,WAAWsF,GACdA,EAASC,KAAK,KAAMjG,MAgB/B,QAAS0F,GAA4BD,GACnC,GAAKtH,QAAQiE,UAAUqD,GAAvB,CAIA,GAAIS,EAAaT,IAAetH,QAAQuC,WAAW+E,GACjD,MAAOU,GAAiCV,EAG1C,IAAItH,QAAQyE,SAAS6C,GACnB,MAAIW,GAA8BX,GACzBY,EAAqCZ,GAGvCa,EAAuCb,EAGhD,IAAItH,QAAQqC,SAASiF,GACnB,MAAOc,GAA+Bd,EAGxC,MAAM,IAAIe,gBAAe,oEAY3B,QAASD,GAA+Bd,GACtC,GAAIgB,KASJ,OAPAA,GAAeC,QAAU,WACvB,OACEX,MAAON,IAGXgB,EAAeC,QAAQ/F,SAAW,qBAAsB,wBAEjD8F,EAYT,QAASL,GAA8BX,GACrC,MAAOtH,SAAQiE,UAAUqD,EAAWM,OAYtC,QAASM,GAAqCZ,GAC5C,GAAIgB,KAMJ,OAJAA,GAAeC,QAAU,WACvB,MAAOjB,IAGFgB,EAYT,QAASH,GAAuCb,GAC9C,GAAIgB,KA6BJ,OA3BAtI,SAAQW,QAAQ2G,EAAY,SAAUkB,EAAahF,GAC7CuE,EAAaS,GACfF,EAAe9E,GAAcgF,EAEzBxI,QAAQuC,WAAWiG,KACrBF,EAAe9E,GAAcgF,EAC7BF,EAAe9E,GAAYhB,YAI3BxC,QAAQyE,SAAS+D,KACnBF,EAAe9E,GAAc,WAC3B,MAAOgF,IAETF,EAAe9E,GAAYhB,YAGzBxC,QAAQqC,SAASmG,KACnBF,EAAe9E,GAAc,WAC3B,OACEoE,MAAOY,IAGXF,EAAe9E,GAAYhB,cAIxB8F,EAYT,QAASP,GAAaF,GACpB,MAAO7H,SAAQU,QAAQmH,IAAc7H,QAAQuC,WAAWsF,IAAa7H,QAAQU,QAAQmH,EAASrF,SAYhG,QAASwF,GAAiCV,GACxC,GAAIgB,KAQJ,OANAA,GAAeC,QAAUjB,EAEpBtH,QAAQiE,UAAUqD,EAAW9E,WAChC8F,EAAeC,QAAQ/F,SAAW,qBAAsB,yBAGnD8F,EAGT,MAnQAlB,GAAc3E,UAAU+E,qBAAuB,SAAUE,GAGvD,IAAK1H,QAAQiE,UAAU3C,KAAKgG,YAC1B,MAAOpH,GAAGkB,QAGZ,IAAIuG,GAAgBrG,KAAKgG,WAAWI,IAA2BpG,KAAKgG,WAAoB,OAExF,OAAOE,GAAqBG,EAAeD,IAW7CN,EAAc3E,UAAUqE,wBAA0B,SAAUe,GAE1D,MAAOA,GAASvE,IAAI,SAAUmF,GAC5B,GAAIrE,EAAcO,kBAAkB8D,GAAgB,CAClD,GAAIC,GAAOtE,EAAcQ,kBAAkB6D,EAC3C,OAAOC,GAAK/E,eAGd,GAAIX,EAAoBO,wBAAwBkF,GAAgB,CAC9D,GAAIjF,GAAaR,EAAoBS,wBAAwBgF,EAC7D,OAAOjF,GAAWd,qBAIpB,MADAoC,GAAK6D,KAAK,sBAAwBF,EAAgB,qBAC3CvI,EAAGkB,OAAOqH,MAiOdrB,EA/nCTlH,EAAGsC,SAAW,aACdb,EAAea,SAAW,KAAM,YAAa,4BAC7CO,EAASP,SAAW,KAAM,YAAa,sBAAuB,4BAC9DQ,EAAoBR,SAAW,kBAC/B4B,EAAc5B,SAAW,YACzBqC,EAAoBrC,SAAW,OAAQ,YAAa,oBAAqB,4BACzE8D,EAAkB9D,SAAW,MAC7BuC,EAAkBvC,SAAW,KAAM,OAAQ,YAAa,2BAA4B,gBAAiB,sBACrG,IAAIgB,GAAaxD,QAAQ4I,OAAO,gBAEV,oBAAXA,SAA6C,mBAAZC,UAA2BD,OAAOC,UAAYA,UACxFD,OAAOC,QAAUrF,EAAWsF,MAyD9B9I,QACG4I,OAAO,cACPG,UAAU,KAAM7I,EAoBnB,IAAI8E,IACFgE,cAAe,SAAUrD,GACvBA,EAASsD,WAAW,aAEtBC,eAAgB,SAAUvD,GACxBA,EAASwD,KAAK,WAAY,aAE5BpD,YAAa,SAAUJ,GACrBA,EAASyD,YAAY,YAEvBnD,YAAa,SAAUN,GACrBA,EAAS0D,SAAS,YAItBrJ,SACG4I,OAAO,cACP5H,MAAM,2BAA4BgE,GAClChE,MAAM,uBAAwBgE,EAoBjC,IAAInD,KAEJ7B,SACG4I,OAAO,cACP5H,MAAM,2BAA4Ba,GAsBrC7B,QACG4I,OAAO,cACPU,QAAQ,uBAAwBjI,GA8GnCrB,QACG4I,OAAO,cACPW,QAAQ,iBAAkB5H,GA8I7B3B,QACG4I,OAAO,cACPW,QAAQ,WAAYxG,GAyGvB/C,QACG4I,OAAO,cACPU,QAAQ,sBAAuBtG,GAqGlChD,QACG4I,OAAO,cACPU,QAAQ,gBAAiBlF,GA8I5BpE,QACG4I,OAAO,cACPY,UAAU,aAAc3E,GA4E3B7E,QACG4I,OAAO,cACPU,QAAQ,oBAAqBhD,GAsThCtG,QACG4I,OAAO,cACPW,QAAQ,oBAAqBxE,IAEhChF,OAAQA,OAAOC","file":"angular-permission.min.js"}